"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5911],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),l=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},u=function(e){var t=l(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),m=l(n),d=i,h=m["".concat(s,".").concat(d)]||m[d]||c[d]||r;return n?o.createElement(h,p(p({ref:t},u),{},{components:n})):o.createElement(h,p({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,p=new Array(r);p[0]=m;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:i,p[1]=a;for(var l=2;l<r;l++)p[l]=n[l];return o.createElement.apply(null,p)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2309:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>p,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var o=n(7462),i=(n(7294),n(3905));const r={sidebar_position:2,description:"To access the store within the setup hook, you can call the useStore function. This is the equivalent of retrieving this.$store within a component using the Option API."},p="\ucef4\ud3ec\uc9c0\uc158 API(Composition API)",a={unversionedId:"tutorial-vuex/composition-api",id:"tutorial-vuex/composition-api",title:"\ucef4\ud3ec\uc9c0\uc158 API(Composition API)",description:"To access the store within the setup hook, you can call the useStore function. This is the equivalent of retrieving this.$store within a component using the Option API.",source:"@site/docs/tutorial-vuex/composition-api.md",sourceDirName:"tutorial-vuex",slug:"/tutorial-vuex/composition-api",permalink:"/docs/tutorial-vuex/composition-api",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tutorial-vuex/composition-api.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,description:"To access the store within the setup hook, you can call the useStore function. This is the equivalent of retrieving this.$store within a component using the Option API."},sidebar:"tutorialSidebar",previous:{title:"\uc124\uce58",permalink:"/docs/tutorial-vuex/installation"},next:{title:"Modules",permalink:"/docs/tutorial-vuex/modules"}},s={},l=[{value:"setup \ucef4\ud3ec\ub10c\ud2b8 \uc635\uc158",id:"setup-\ucef4\ud3ec\ub10c\ud2b8-\uc635\uc158",level:2},{value:"Vuex\uc640 \ud568\uaed8 TypeScript\ub97c \uc0ac\uc6a9\ud558\uae30",id:"vuex\uc640-\ud568\uaed8-typescript\ub97c-\uc0ac\uc6a9\ud558\uae30",level:2},{value:"1. Define the typed InjectionKey.",id:"1-define-the-typed-injectionkey",level:3},{value:"2. Provide the typed InjectionKey when installing a store to the Vue app.",id:"2-provide-the-typed-injectionkey-when-installing-a-store-to-the-vue-app",level:3},{value:"3. Pass the typed InjectionKey to the useStore method.",id:"3-pass-the-typed-injectionkey-to-the-usestore-method",level:3},{value:"Simplifying useStore usage",id:"simplifying-usestore-usage",level:2}],u={toc:l};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\ucef4\ud3ec\uc9c0\uc158-apicomposition-api"},"\ucef4\ud3ec\uc9c0\uc158 API(Composition API)"),(0,i.kt)("p",null,"Vue 3\uc758 ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"https://v3.ko.vuejs.org/guide/composition-api-introduction.html"},"Composition API")),"\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc791\uc131\ud560 \ub54c \ud568\uc218 \uae30\ubc18\uc758 \ubc29\ubc95\uc744 \uc81c\uc2dc\ud569\ub2c8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","Composition API\ub294 \ud2b9\uc815 \uc5ed\ud560\uc5d0 \ub530\ub978 \ud568\uc218\uc758 \ubd84\ub9ac \ub4f1\uc744 \ud1b5\ud558\uc5ec \ub17c\ub9ac\uc801\uc778 \uad00\uc810 \ub2e8\uc704\ub85c \uac1c\ubc1c\ud558\uace0, \ub3d9\uc77c\ud55c \ub17c\ub9ac\uc801 \uad00\uc2ec\uc0ac\uc640 \uad00\ub828\uc788\ub294 \ucf54\ub4dc\ub97c \ud568\uaed8 \ubc30\uce58\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4."),(0,i.kt)("h2",{id:"setup-\ucef4\ud3ec\ub10c\ud2b8-\uc635\uc158"},"setup \ucef4\ud3ec\ub10c\ud2b8 \uc635\uc158"),(0,i.kt)("p",null,"Composition API \uc791\uc5c5\uc744 \uc2dc\uc791\ud558\ub824\uba74, \uc6b0\uc120 \uc2e4\uc81c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc7a5\uc18c\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. Vue \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c\ub294 \uc774 \uc704\uce58\ub97c ",(0,i.kt)("inlineCode",{parentName:"p"},"setup")," \uc774\ub77c\uace0 \ubd80\ub985\ub2c8\ub2e4. ",(0,i.kt)("inlineCode",{parentName:"p"},"setup")," \ucef4\ud3ec\ub10c\ud2b8 \uc635\uc158\uc740 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc0dd\uc131\ub418\uae30 \uc804\uc5d0, props\uac00 \ud55c\ubc88 resolved\ub420 \ub54c \uc2e4\ud589\ub429\ub2c8\ub2e4."),(0,i.kt)("p",null,"\uc2a4\ud1a0\uc5b4\ub97c setup \ud568\uc218\uc5d0\uc11c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 Vuex\uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"useStore")," \uac1d\uccb4\ub97c \ubd88\ub7ec\uc640 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// in a vue component\nimport { useStore } from 'vuex'\n\nexport default defineComponent({\n  // highlight-start\n  setup () {\n    const store = useStore()\n\n    store.state.count\n    return {}\n  }\n  // highlight-end\n})\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TypeScript\uc5d0\uc11c Vue component\ub0b4\uc758 \ud0c0\uc785\uc744 \uc62c\ubc14\ub974\uac8c \ucd94\ub860\ud558\ub824\uba74, \uc804\uc5ed \uba54\uc11c\ub4dc ",(0,i.kt)("inlineCode",{parentName:"p"},"defineComponent"),"\ub97c \ud1b5\ud574 component\ub97c \uc815\uc758 \ud574\uc57c\ud569\ub2c8\ub2e4")),(0,i.kt)("h2",{id:"vuex\uc640-\ud568\uaed8-typescript\ub97c-\uc0ac\uc6a9\ud558\uae30"},"Vuex\uc640 \ud568\uaed8 TypeScript\ub97c \uc0ac\uc6a9\ud558\uae30"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://vuex.vuejs.org/guide/typescript-support.html#typing-usestore-composition-function"},"TypeScript\uc5d0\uc11c ",(0,i.kt)("inlineCode",{parentName:"a"},"useStore"),"\ub0b4\uc758 \ud0c0\uc785\uc744 \uc62c\ubc14\ub974\uac8c \ucd94\ub860"),"\ud558\ub824\uba74,"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Define the typed ",(0,i.kt)("inlineCode",{parentName:"li"},"InjectionKey"),"."),(0,i.kt)("li",{parentName:"ol"},"Provide the typed ",(0,i.kt)("inlineCode",{parentName:"li"},"InjectionKey")," when installing a store to the Vue app."),(0,i.kt)("li",{parentName:"ol"},"Pass the typed ",(0,i.kt)("inlineCode",{parentName:"li"},"InjectionKey")," to the useStore method.")),(0,i.kt)("h3",{id:"1-define-the-typed-injectionkey"},"1. Define the typed InjectionKey."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"store")," \ud0c0\uc774\ud551 \uc815\uc758\uc640 \ud568\uaed8 Vue\uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"InjectionKey")," \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud0a4\ub97c \uc815\uc758\ud569\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="/src/store/index.ts"',title:'"/src/store/index.ts"'},"import { InjectionKey } from 'vue'\nimport { createStore, Store } from 'vuex'\n\n// define typings for the store state\n// highlight-start\ninterface State {\n  count: number\n}\n// highlight-end\n\n// define injection key\n// highlight-next-line\nexport const key:InjectionKey<Store<State>> = Symbol()\n\nexport const store = createStore<State>({\n  state: {\n    // highlight-next-line\n    count: 0\n  },\n  // ...\n})\n")),(0,i.kt)("h3",{id:"2-provide-the-typed-injectionkey-when-installing-a-store-to-the-vue-app"},"2. Provide the typed InjectionKey when installing a store to the Vue app."),(0,i.kt)("p",null,"\uc2a4\ud1a0\uc5b4\ub97c \uc124\uce58\ud560 \ub54c ",(0,i.kt)("inlineCode",{parentName:"p"},"InjectionKey"),"\ub97c Vue \uc571\uc5d0 \uc804\ub2ec\ud569\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/main.ts"',title:'"/src/main.ts"'},"import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\n// highlight-next-line\nimport { store, key } from './store'\n\n// pass the injection key\n// highlight-next-line\ncreateApp(App).use(store, key).mount('#app')\n")),(0,i.kt)("admonition",{title:"\uc815\ubcf4",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"\uba85\uc2dc\uc801\uc73c\ub85c export \ud558\uc9c0 \uc54a\ub294 \ud55c \ubaa8\ub4c8 \uc678\ubd80\uc5d0\uc11c \ubcf4\uc774\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\nexport \ud0a4\uc6cc\ub4dc\ub97c \ucd94\uac00\ud558\uc5ec \ubaa8\ub4e0 \uc120\uc5b8 (\ubcc0\uc218, \ud568\uc218, \ud074\ub798\uc2a4, \ud0c0\uc785 \ubcc4\uce6d, \uc778\ud130\ud398\uc774\uc2a4)\uc744 export \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"export const key:InjectionKey<Store<State>> = Symbol()\n"))),(0,i.kt)("h3",{id:"3-pass-the-typed-injectionkey-to-the-usestore-method"},"3. Pass the typed InjectionKey to the useStore method."),(0,i.kt)("p",null,"useStore \uba54\uc11c\ub4dc\uc5d0 \ud0a4\ub97c \uc804\ub2ec\ud558\uc5ec ",(0,i.kt)("inlineCode",{parentName:"p"},"store"),"\ub0b4\uc758 \ud0c0\uc785\uc744 \uc62c\ubc14\ub974\uac8c \ucd94\ub860\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/App.vue"',title:'"/src/App.vue"'},'<template>\n  <div></div>\n</template>\n\n<script lang="ts">\nimport { defineComponent } from "vue";\nimport { useStore } from "vuex";\nimport { key } from "./store";\n\nexport default defineComponent({\n  setup() {\n    const store = useStore(key);\n    console.log(store.state.count);\n    return {};\n  },\n});\n<\/script>\n\n<style scoped>\n</style>\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Visual Studio Code\uc758 Extensions ",(0,i.kt)("inlineCode",{parentName:"p"},"Vue VSCode Snippets"),"\uc744 \uc124\uce58\ud558\uba74 Vue.js with TypeScript Snippets\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,i.kt)("p",{parentName:"admonition"},"Single File component Composition API with Typescript \uba85\ub839\uc5b4\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"vbase-3-ts\n"))),(0,i.kt)("h2",{id:"simplifying-usestore-usage"},"Simplifying useStore usage"),(0,i.kt)("p",null,"Store\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 InjectionKey\ub97c \uc804\ub2ec\ud574\uc57c \ud558\ub294 \uc791\uc5c5\uc740 \ubc18\ubcf5 \uc791\uc5c5\uc774 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc774\ub97c \ub2e8\uc21c\ud654\ud558\uae30 \uc704\ud574 \ud568\uc218\ub97c \uc815\uc758\ud558\uc5ec ",(0,i.kt)("inlineCode",{parentName:"p"},"store"),"\ub0b4\uc758 \ud0c0\uc785\uc744 \ucd94\ub860\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/store/index.ts"',title:'"/src/store/index.ts"'},"import { InjectionKey } from 'vue'\n// highlight-next-line\nimport { createStore, Store, useStore as baseUseStore } from 'vuex'\n\n// ...\n\n// define your own `useStore` composition function\n// highlight-start\nexport function useStore() {\n  return baseUseStore(key);\n}\n// highlight-end\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/App.vue"',title:'"/src/App.vue"'},'// ...\n<script lang="ts">\nimport { defineComponent } from "vue";\n// import { useStore } from "vuex";\n// import { key } from "./store";\n// highlight-start\nimport { useStore } from "./store";\n// highlight-end\n\nexport default defineComponent({\n  setup() {\n    // highlight-next-line\n    const store = useStore();\n    console.log(store.state.count);\n    return {};\n  },\n});\n<\/script>\n')))}c.isMDXComponent=!0}}]);